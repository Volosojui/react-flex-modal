!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["prop-types","react","react-dom"],t):"object"==typeof exports?exports.ReactFlexModal=t(require("prop-types"),require("react"),require("react-dom")):e.ReactFlexModal=t(e.PropTypes,e.React,e.ReactDOM)}(window,function(n,o,i){return function(n){var o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var i=s.apply(null,n);i&&e.push(i)}else if("object"===o)for(var r in n)a.call(n,r)&&n[r]&&e.push(r)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(o=function(){return s}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(2),s=n.n(o),i=n(0),l=n.n(i),c=n(3),u=n.n(c);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=27,b="Modal",T=b+"-open",O=function(e){function i(e){var t,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=this,o=d(i).call(this,e),h(m(t=!o||"object"!==p(o)&&"function"!=typeof o?m(n):o),"state",{enter:!1,enterActive:!1,leave:!1,leaveActive:!1}),h(m(t),"onCloseClick",function(){t.close()}),h(m(t),"onInsideDialogClick",function(e){t.willClose=!1}),h(m(t),"onKeyDown",function(e){e.keyCode===v&&t.props.isOpen&&t.close()}),h(m(t),"onOutsideDialogClick",function(e){t.willClose&&t.close(),t.willClose=!0}),t.willClose=!0,t.scrollTop=0,t.doc=document.documentElement,t}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,r["Component"]),t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.storedActiveElement=document.activeElement,this.scrollTop=window.pageYOffset||this.doc.scrollTop,setTimeout(function(){e.enforceFocus()},0),this.props.transition&&(this.transitionTimeStart=new Date,this.setState({enter:!0},function(){e.setState({enterActive:!0}),e.enterTimer=setTimeout(function(){e.setState({enter:!1,enterActive:!1})},e.props.transitionEnterTimeout)})),this.addRootClass(),"fixed"==this.props.position&&(document.body.style.paddingRight=this.getScrollbarSize()+"px",this.doc.style.position="fixed",this.doc.style.width="100%",this.doc.style.top=-this.scrollTop+"px",this.doc.style.overflow="hidden")}},{key:"componentDidUpdate",value:function(e,t){document.activeElement===this.modal||this.modal.contains(document.activeElement)||this.enforceFocus()}},{key:"componentWillUnmount",value:function(){this.enterTimer&&clearTimeout(this.enterTimer),this.leaveTimer&&clearTimeout(this.leaveTimer),this.storedActiveElement.focus(),this.storedActiveElement=null,this.removeRootClass(),"fixed"==this.props.position&&(document.body.style.paddingRight="",this.doc.style.position="",this.doc.style.width="",this.doc.style.top="",this.doc.style.overflow="",window.scrollTo(0,this.scrollTop))}},{key:"getScrollbarSize",value:function(){var e=document.createElement("div");return e.style.width="100px",e.style.overflow="scroll",document.body.appendChild(e),e.offsetWidth-e.clientWidth}},{key:"getTransitionLeaveTimeout",value:function(){return Math.min(this.transitionTimeEnd-this.transitionTimeStart,this.props.transitionLeaveTimeout)}},{key:"addRootClass",value:function(){document.documentElement.classList.add(T)}},{key:"close",value:function(){var e=this;this.props.transition?(this.enterTimer&&clearTimeout(this.enterTimer),this.state.leave||this.setState({leave:!0},function(){e.setState({leaveActive:!0}),e.transitionTimeEnd=new Date,e.leaveTimer=setTimeout(function(){e.setState({leave:!1,leaveActive:!1}),e.props.onClose()},e.getTransitionLeaveTimeout())})):this.props.onClose()}},{key:"enforceFocus",value:function(){this.modal.focus()}},{key:"removeRootClass",value:function(){document.documentElement.classList.remove(T)}},{key:"render",value:function(){var e,t=this,n=u()((h(e={},b,!0),h(e,"Modal--open",this.props.isOpen),h(e,"Modal--enter",this.state.enter),h(e,"Modal--enter-active",this.state.enterActive),h(e,"Modal--leave",this.state.leave),h(e,"Modal--leave-active",this.state.leaveActive),e));return a.a.createElement("div",{ref:function(e){t.modal=e},className:n,tabIndex:-1,onKeyDown:this.onKeyDown,onClick:this.onOutsideDialogClick},a.a.createElement("div",{className:b+"__layout"},a.a.createElement("div",{className:b+"__dialog",onClick:this.onInsideDialogClick},a.a.createElement("button",{className:b+"__close",onClick:this.onCloseClick},a.a.createElement("span",{className:b+"__close-icon"}),a.a.createElement("span",{className:b+"__close-text"},"Close")),a.a.createElement("div",{className:b+"__content"},this.props.children))))}}])&&f(t.prototype,n),o&&f(t,o),i}();h(O,"propTypes",{isOpen:l.a.bool.isRequired,onClose:l.a.func,position:l.a.string,transition:l.a.bool,transitionEnterTimeout:l.a.number,transitionLeaveTimeout:l.a.number,children:l.a.node}),h(O,"defaultProps",{isOpen:!1,position:"fixed",transition:!1,transitionEnterTimeout:300,transitionLeaveTimeout:300});var w=O;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return k});var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,E(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e,t=this.props;this.parentContainer=((e=document.querySelector("[data-modal-container]"))||((e=document.createElement("div")).setAttribute("data-modal-container",""),document.body.appendChild(e)),e),t.isOpen&&this.mountPortal(t)}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen?this.mountPortal(this.props):this.unmountPortal()}},{key:"componentWillUnmount",value:function(){this.unmountPortal()}},{key:"mountPortal",value:function(e){this.container||(this.container=document.createElement("div"),this.parentContainer.appendChild(this.container)),s.a.render(a.a.createElement(w,e),this.container)}},{key:"unmountPortal",value:function(){this.container&&s.a.unmountComponentAtNode(this.container)}},{key:"render",value:function(){return null}}])&&C(n.prototype,o),i&&C(n,i),t}();j(k,"propTypes",{children:l.a.node,isOpen:l.a.bool,onClose:l.a.func,position:l.a.string,transition:l.a.bool,transitionEnterTimeout:l.a.number,transitionLeaveTimeout:l.a.number}),j(k,"defaultProps",{isOpen:!1})}])});