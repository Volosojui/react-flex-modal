!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["prop-types","react","react-dom"],t):"object"==typeof exports?exports.ReactFlexModal=t(require("prop-types"),require("react"),require("react-dom")):e.ReactFlexModal=t(e.PropTypes,e.React,e.ReactDOM)}(this,function(e,t,n){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(0),f=o(d),p=n(5),m=o(p),h={ESCAPE:27},v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={enter:!1,enterActive:!1,leave:!1,leaveActive:!1},n.onCloseClick=function(){n.close()},n.onInsideDialogClick=function(e){n.willClose=!1},n.onKeyDown=function(e){e.keyCode===h.ESCAPE&&n.props.isOpen&&n.close()},n.onOutsideDialogClick=function(e){n.willClose&&n.close(),n.willClose=!0},n.willClose=!0,n.scrollTop=0,n.doc=document.documentElement,n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.storedActiveElement=document.activeElement,this.scrollTop=window.pageYOffset||this.doc.scrollTop,setTimeout(function(){e.enforceFocus()},0),this.props.transition&&(this.transitionTimeStart=new Date,this.setState({enter:!0},function(){e.setState({enterActive:!0}),e.enterTimer=setTimeout(function(){e.setState({enter:!1,enterActive:!1})},e.props.transitionEnterTimeout)})),this.addRootClass(),"fixed"==this.props.position&&(document.body.style.paddingRight=this.getScrollbarSize()+"px",this.doc.style.position="fixed",this.doc.style.width="100%",this.doc.style.top=-this.scrollTop+"px",this.doc.style.overflow="hidden")}},{key:"componentDidUpdate",value:function(e,t){document.activeElement===this.modal||this.modal.contains(document.activeElement)||this.enforceFocus()}},{key:"componentWillUnmount",value:function(){this.enterTimer&&clearTimeout(this.enterTimer),this.leaveTimer&&clearTimeout(this.leaveTimer),this.storedActiveElement.focus(),this.storedActiveElement=null,this.removeRootClass(),"fixed"==this.props.position&&(document.body.style.paddingRight="",this.doc.style.position="",this.doc.style.width="",this.doc.style.top="",this.doc.style.overflow="",window.scrollTo(0,this.scrollTop))}},{key:"getScrollbarSize",value:function(){var e=document.createElement("div");return e.style.width="100px",e.style.overflow="scroll",document.body.appendChild(e),e.offsetWidth-e.clientWidth}},{key:"getTransitionLeaveTimeout",value:function(){return Math.min(this.transitionTimeEnd-this.transitionTimeStart,this.props.transitionLeaveTimeout)}},{key:"addRootClass",value:function(){document.documentElement.classList.add("Modal-open")}},{key:"close",value:function(){var e=this;this.props.transition?(this.enterTimer&&clearTimeout(this.enterTimer),this.state.leave||this.setState({leave:!0},function(){e.setState({leaveActive:!0}),e.transitionTimeEnd=new Date,e.leaveTimer=setTimeout(function(){e.setState({leave:!1,leaveActive:!1}),e.props.onClose()},e.getTransitionLeaveTimeout())})):this.props.onClose()}},{key:"enforceFocus",value:function(){this.modal.focus()}},{key:"removeRootClass",value:function(){document.documentElement.classList.remove("Modal-open")}},{key:"render",value:function(){var e,t=this,n=(0,m.default)((e={},i(e,"Modal",!0),i(e,"Modal--open",this.props.isOpen),i(e,"Modal--enter",this.state.enter),i(e,"Modal--enter-active",this.state.enterActive),i(e,"Modal--leave",this.state.leave),i(e,"Modal--leave-active",this.state.leaveActive),e));return c.default.createElement("div",{ref:function(e){t.modal=e},className:n,tabIndex:-1,onKeyDown:this.onKeyDown,onClick:this.onOutsideDialogClick},c.default.createElement("div",{className:"Modal__layout"},c.default.createElement("div",{className:"Modal__dialog",onClick:this.onInsideDialogClick},c.default.createElement("button",{className:"Modal__close",onClick:this.onCloseClick},c.default.createElement("span",{className:"Modal__close-icon"}),c.default.createElement("span",{className:"Modal__close-text"},"Close")),c.default.createElement("div",{className:"Modal__content"},this.props.children))))}}]),t}(u.Component);v.propTypes={isOpen:f.default.bool.isRequired,onClose:f.default.func,position:f.default.string,transition:f.default.bool,transitionEnterTimeout:f.default.number,transitionLeaveTimeout:f.default.number,children:f.default.node},v.defaultProps={isOpen:!1,position:"fixed",transition:!1,transitionEnterTimeout:300,transitionLeaveTimeout:300},t.default=v},function(e,t){e.exports=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=o(l),c=n(3),d=o(c),f=n(0),p=o(f),m=n(2),h=o(m),v=function(){var e=document.querySelector("[data-modal-container]");return e||(e=document.createElement("div"),e.setAttribute("data-modal-container",""),document.body.appendChild(e)),e},y=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props;this.parentContainer=v(),e.isOpen&&this.mountPortal(e)}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen?this.mountPortal(this.props):this.unmountPortal()}},{key:"componentWillUnmount",value:function(){this.unmountPortal()}},{key:"mountPortal",value:function(e){this.container||(this.container=document.createElement("div"),this.parentContainer.appendChild(this.container)),d.default.render(u.default.createElement(h.default,e),this.container)}},{key:"unmountPortal",value:function(){this.container&&d.default.unmountComponentAtNode(this.container)}},{key:"render",value:function(){return null}}]),t}(l.Component);y.propTypes={children:p.default.node,isOpen:p.default.bool,onClose:p.default.func,position:p.default.string,transition:p.default.bool,transitionEnterTimeout:p.default.number,transitionLeaveTimeout:p.default.number},y.defaultProps={isOpen:!1},t.default=y},function(e,t,n){var o,i;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===i)for(var a in o)r.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}var r={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(o=[],void 0!==(i=function(){return n}.apply(t,o))&&(e.exports=i))}()}])});